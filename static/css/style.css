/* style.css atualizado: destaque do card ativo, animação feedback e indicador de direção */
:root{
  --bg:#f5f7fb; --card:#ffffff; --accent:#0b63ff; --muted:#6b6f76;
  --success:#2ecc71; --radius:12px; --gap:12px; --sidebar-w:300px;
  font-family: Inter, Roboto, Arial, sans-serif; color:#222;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg)}
.topbar{height:56px;background:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 16px;border-bottom:1px solid #eee;position:sticky;top:0;z-index:30}
.brand{font-weight:600}
.top-actions{display:flex;gap:8px;align-items:center}
.inline-form{display:inline}
.app-grid{display:grid;grid-template-columns:var(--sidebar-w) 1fr;gap:16px;padding:16px;align-items:start}
.sidebar{background:var(--card);padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(15,23,42,0.06);height:calc(100vh - 96px);overflow:auto}
.sidebar.collapsed{display:none}
.sidebar h3{margin:0 0 10px 0;font-size:14px}
.thumbs-list{display:flex;flex-direction:column;gap:10px}

/* thumb card */
.thumb-card{
  display:flex;gap:8px;align-items:flex-start;padding:8px;border-radius:8px;border:1px solid #f0f2f5;background:#fff;cursor:pointer;
  min-height:64px; max-height:84px; overflow:hidden; transition:box-shadow .18s ease, border-color .18s ease, transform .12s ease;
}
.thumb-card:hover{box-shadow:0 8px 18px rgba(11,99,255,0.06); transform:translateY(-1px);}

/* card ativo */
.thumb-card.active{
  border-color: var(--accent);
  box-shadow: 0 10px 28px rgba(11,99,255,0.12);
}

/* thumb canvas */
.thumb-canvas{border-radius:6px;background:#fafafa;flex:0 0 auto;width:72px;height:92px;object-fit:cover}
.thumb-meta{flex:1;display:flex;flex-direction:column;gap:6px;min-width:0}

/* truncamento 2 linhas */
.thumb-name{
  font-size:13px; line-height:1.1; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; text-overflow:ellipsis;
  white-space:normal; color:#111;
}

.thumb-controls{display:flex;gap:6px;flex-wrap:wrap}
.viewer-area{background:transparent;display:flex;flex-direction:column;gap:12px}
.viewer-topbar{display:flex;justify-content:space-between;align-items:center;padding:6px 0}
.current-file{font-weight:600; max-width:60vw; overflow:hidden; text-overflow:ellipsis; white-space:nowrap}
.viewer-controls{display:flex;gap:8px;align-items:center}
.viewer-container{background:#fff;border-radius:12px;padding:16px;box-shadow:0 6px 20px rgba(11,17,35,0.04);min-height:360px;display:flex;align-items:center;justify-content:center;overflow:auto;position:relative}
.pdf-canvas{max-width:100%;height:auto;border-radius:6px;box-shadow:0 4px 14px rgba(2,6,23,0.06)}
.placeholder{display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:15px;min-height:240px}
.viewer-footer{font-size:12px;color:var(--muted);padding-top:6px}
.btn{background:#fff;border:1px solid #e6e9ef;padding:6px 8px;border-radius:8px;cursor:pointer}
.btn.primary{background:var(--accent);color:#fff;border:none;padding:8px 12px}
.btn.small{padding:6px;border-radius:6px;font-size:13px}
.icon-btn{font-size:16px;padding:6px 8px}
.page-input{width:80px;padding:6px;border-radius:6px;border:1px solid #e6e9ef}
.muted{color:var(--muted);font-size:13px}

/* indicador de direção (quando esquerda, estilo invertido) */
#rotate-direction.dir-left { transform: rotate(180deg); color: #e76f51; }

/* feedback de rotação: checkmark com fade/scale */
.rotate-feedback{
  position: absolute; right:18px; top:18px; width:56px; height:56px; border-radius:14px;
  background: rgba(46,204,113,0.12); color: var(--success);
  display:flex;align-items:center;justify-content:center; opacity:0; transform: scale(.8);
  transition: opacity .28s ease, transform .28s ease;
  pointer-events:none;
}
.rotate-feedback.visible{ opacity:1; transform: scale(1); box-shadow: 0 8px 20px rgba(46,204,113,0.16); }

/* mobile */
@media (max-width:900px){
  .app-grid{grid-template-columns:1fr; padding:12px}
  .sidebar{position:fixed;left:0;top:56px;bottom:0;width:320px;z-index:40;transform:translateX(-110%);transition:transform .22s ease;background:var(--card)}
  .sidebar.show{transform:translateX(0)}
  .sidebar.collapsed{display:none}
  #toggle-sidebar{display:inline-block}
}

/* Upload modal tweaks */
.upload-list .upload-item { display:flex;align-items:center;gap:8px;padding:6px;border-radius:6px;border-bottom:1px solid #f2f5fb; }
#upload-list .muted{padding:8px;}
/* reutiliza .modal/.modal-panel se já definidos; se não estiverem, estes garantem aparência */
.modal { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; z-index: 1200; }
.modal.open { display:flex; }
.modal-backdrop { position:absolute; inset:0; background: rgba(10,12,16,0.45); }
.modal-panel { position: relative; z-index: 1210; background: #fff; border-radius: 10px; padding: 14px; width: 560px; max-width: calc(100% - 24px); box-shadow: 0 20px 60px rgba(2,6,23,0.12); }
@media (max-width:600px){ .modal-panel{ width: 92%; padding:10px } }
